<div class="flex flex-col  justify-center items-center h-screen  dark:bg-gray-800">
  <form class=" flex  items-center gap-4 max-w-lg mx-auto mb-4">
    <div class="flex mb-2">
      <input type="text" placeholder="Search by type" #tipoInput class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-l-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500" />
      <button (click)="searchByTipo(tipoInput.value)" class="p-2.5 text-sm font-medium text-white bg-blue-700 rounded-r-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
        Search
      </button>
    </div>
  
    <div class="flex mb-2">
      <input type="date" #fechaInput class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-l-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500" />
      <button (click)="searchByFechaCompra(fechaInput.value)" class="p-2.5 text-sm font-medium text-white bg-blue-700 rounded-r-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
        Search
      </button>
    </div>
  
    <div class="flex mb-2">
      <input type="text" placeholder="Search by city" #ciudadInput class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-l-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500" />
      <button (click)="searchByCiudad(ciudadInput.value)" class="p-2.5 text-sm font-medium text-white bg-blue-700 rounded-r-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
        Search
      </button>
    </div>
  </form>
<div class="relative overflow-x-auto shadow-md sm:rounded-lg mb-12">
  <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
      <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
          <tr>
              <th scope="col" class="px-6 py-3">Nombre</th>
              <th scope="col" class="px-6 py-3">Descripción</th>
              <th scope="col" class="px-6 py-3">Tipo</th>
              <th scope="col" class="px-6 py-3">Precio</th>
              <th scope="col" class="px-6 py-3">Fecha de Compra</th>
              <th scope="col" class="px-6 py-3">Estado</th>
              <th scope="col" class="px-6 py-3">Ciudad</th>
              <th scope="col" class="px-6 py-3">Acciones</th>
          </tr>
      </thead>
      <tbody>
          <tr *ngFor="let material of materials" class="bg-white border-b dark:bg-gray-800 dark:border-gray-700">
              <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                  {{ material.nombre }}
              </th>
              <td class="px-6 py-4">{{ material.descripcion }}</td>
              <td class="px-6 py-4">{{ material.tipo }}</td>
              <td class="px-6 py-4">${{ material.precio }}</td>
              <td class="px-6 py-4">{{ material.fechaCompra }}</td>
              <td class="px-6 py-4">{{ material.estado }}</td>
              <td class="px-6 py-4">{{ material.ciudadCodigo }}</td>
              <td class="px-6 py-4">
                  <button (click)="deleteMaterial(material.id)" class="bg-red-500 text-white px-3 py-1 rounded">Eliminar</button>
              </td>
          </tr>
      </tbody>
  </table>
</div>
<div class="mb-4">
  <button (click)="showForm = !showForm" class="bg-blue-500 text-white px-4 py-2 rounded">
    {{ showForm ? 'Cerrar' : 'Agregar Material' }}
  </button>
</div>

<div *ngIf="showForm" class="p-4 border rounded shadow-md bg-gray-100">
  <form (ngSubmit)="addMaterial()" class="max-w-md mx-auto">
    <div class="relative z-0 w-full mb-5 group">
      <label class="block">Nombre:</label>
      <input type="text" [(ngModel)]="newMaterial.nombre" name="nombre" required class="w-full p-2 border rounded">
    </div>

    <div class="mb-2">
      <label class="block">Descripción:</label>
      <input type="text" [(ngModel)]="newMaterial.descripcion" name="descripcion" required class="w-full p-2 border rounded">
    </div>

    <div class="mb-2">
      <label class="block">Tipo:</label>
      <input type="text" [(ngModel)]="newMaterial.tipo" name="tipo" required class="w-full p-2 border rounded">
    </div>

    <div class="mb-2">
      <label class="block">Precio:</label>
      <input type="number" [(ngModel)]="newMaterial.precio" name="precio" required min="1" class="w-full p-2 border rounded">
    </div>

    <div class="mb-2">
      <label class="block">Fecha de Compra:</label>
      <input type="date" [(ngModel)]="newMaterial.fechaCompra" name="fechaCompra" required class="w-full p-2 border rounded">
    </div>

    <div class="mb-2">
      <label class="block">Fecha de Venta:</label>
      <input type="date" [(ngModel)]="newMaterial.fechaVenta" name="fechaVenta" class="w-full p-2 border rounded">
    </div>

    <div class="mb-2">
      <label class="block">Estado:</label>
      <select [(ngModel)]="newMaterial.estado" name="estado" required class="w-full p-2 border rounded">
        <option value="ACTIVO">ACTIVO</option>
        <option value="ASIGNADO">ASIGNADO</option>
        <option value="DISPONIBLE">DISPONIBLE</option>
      </select>
    </div>

    <div class="mb-2">
      <label class="block">Ciudad:</label>
      <input type="text" [(ngModel)]="newMaterial.ciudadCodigo" name="ciudadCodigo" required class="w-full p-2 border rounded">
    </div>

    <button type="button" (click)="addMaterial()" class="bg-green-500 text-white px-4 py-2 rounded">Guardar</button>
  </form>
</div>


<button (click)="logout()" class="bg-red-500
text-white px-4 py-2 rounded">Cerrar Sesión</button>

</div>
